@model IEnumerable<CBLSummerBugTracker08042016.Models.CodeFirst.Ticket>




<h2>Assigned Tickets</h2>

<div class="content animate-panel">

    <div class="row">
        <div class="col-lg-12">
            <div class="hpanel">
                <div class="panel-heading">
                    <div class="panel-tools">
                        <a class="showhide"><i class="fa fa-chevron-up"></i></a>
                        <a class="closebox"><i class="fa fa-times"></i></a>
                    </div>
                  
                </div>
                <div class="panel-body">
                    <input type="text" class="form-control input-sm m-b-md" id="filter" placeholder="Search in table">
                    <table id="example3" class="footable table table-stripped toggle-arrow-tiny" data-page-size="10" data-filter=#filter>
                        <thead>
                            <tr>
                                @*<th>
                                    @Html.DisplayNameFor(model => model.OwnerUser.DisplayName)
                                </th>*@
                                <th>
                                    @Html.DisplayNameFor(model => model.TicketPriorityId)
                                </th>
                                @*<th>
                                    @Html.DisplayNameFor(model => model.TicketStatusId)
                                </th>*@
                                @*<th>
                                    @Html.DisplayNameFor(model => model.TicketTypeId)
                                </th>*@
                                <th>
                                    @Html.DisplayNameFor(model => model.Created)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.Updated)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.Title)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.Description)
                                </th>
                                @*<th>
                                    @Html.DisplayNameFor(model => model.ProjectId)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.AssignedToUserId)
                                </th>*@
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>

                            @foreach (var item in Model)
                            {
                                <tr>
                                    @*<td>
                                        @Html.DisplayFor(modelItem => item.OwnerUser.DisplayName)
                                    </td>*@
                                    <td>
                                        @Html.DisplayFor(modelItem => item.TicketPriority.Name)
                                    </td>
                                    @*<td>
                                        @Html.DisplayFor(modelItem => item.TicketStatus.Name)
                                    </td>*@
                                    @*<td>
                                        @Html.DisplayFor(modelItem => item.TicketType.Name)
                                    </td>*@
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Created.LocalDateTime)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Updated)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Title)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Description)
                                    </td>
                                    @*<td>
                                        @Html.DisplayFor(modelItem => item.ProjectId)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.AssignedToUser.DisplayName)
                                    </td>*@
                                    <td>
                                        @if (ViewBag.UserId == item.AssignedToUserId || ViewBag.UserId == item.OwnerUserId || User.IsInRole("Project Manager") || User.IsInRole("Admin"))
                                        {@Html.ActionLink("Edit", "Edit", new { id = item.Id })} |
                                        @Html.ActionLink("Details", "Details", new { id = item.Id }) 
                                        @if (User.IsInRole("Admin"))
                                        {
                                           @: | @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                                        }
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                    <p>
                        @Html.ActionLink("Back to List", "Index")
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<!--jQuery-->
@*<script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>*@
@*@Scripts.Render("~/bundles/jquery")*@

<!--DataTables-->
@*<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.9/js/jquery.dataTables.min.js"></script>


    <script>
        $('#ticket_table').DataTable();
    </script>*@


@*@section Styles {
    @Styles.Render("~/bundles/fooTable/css")
}

@section Scripts {
    @Scripts.Render("~/bundles/fooTable/js")

    <script type="text/javascript">

        $(function () {

            // Initialize Example 1
            $('#example1').footable();

            // Initialize Example 2
            $('#example2').footable();

        });

    </script>
}*@